<nav-header css="headerpages" text="Random User Report" contactus="NO" aboutus="NO"></nav-header>
<admin-sidebar></admin-sidebar>





<div>

    <form class="panel panel-default" ng-submit="vm.search()" id="searchPanel" name="searchPanel" novalidate>
        <div class="panel-heading-cpd-3"><i class="fa fa-filter" title="Search" style="padding-top:10px;padding-bottom:10px;padding-left:10px;" tooltip> Search</i></div>

        <div class="shadow">
            <div layout-gt-sm="row">
                <div style="padding: 1rem 1rem">

                    <div class="form-group input-group">
                        <div class="has-float-label" style="width:575px;">
                            <select ng-model="vm.pagingInfo.Year" class="form-control" id="Year">
                                <option ng-repeat="year in vm.years" ng-value="year">{{ year }}</option>
                            </select>
                            <label for="Year">Year</label>
                        </div>
                    </div>

                    <div class="clearfix"></div>
                    <div class="row">
                        <button class="btn btn-primary" style="margin-left:40px;margin-bottom:10px;"><span class="glyphicon glyphicon-search"></span> Search</button>
                        <button class="btn btn-primary" ng-click="vm.clear()" style="margin-left:10px;margin-bottom:10px;"><span class="glyphicon glyphicon-remove-sign"></span> Clear</button>
                    </div>
                </div>
            </div>
        </div>
    </form>


    <div class="row">
        <div id="gridTopItems">
            <div class="gridTopButtons">
                <button type="button" class="btn btn-danger btn-circle btn-lg" tooltip ng-click="vm.print()"><i class="fa fa-print"></i></button>
                <button type="button" class="btn btn-success btn-circle btn-lg" tooltip ng-click="vm.downloadExcel()"><i class="fa fa-file-pdf-o"></i></button>
                <button type="button" class="btn btn-primary btn-circle btn-lg" tooltip ng-click="vm.refresh()"><i class="fa fa-refresh"></i></button>
            </div>
            <div class="gridTopDropdown">
                Show <select class="input-sm" ng-model="vm.pagingInfo.pageSize" ng-options="o for o in vm.entries" ng-change="vm.setItemsPerPage(vm.pagingInfo.pageSize)" ng-init="vm.pagingInfo.pageSize = vm.entries[0]"></select>  entries
            </div>
        </div>
    </div>
    <div class="marginfix" />



    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
                <tr class="header">
                    <th><a href="" ng-click="vm.sort('MemberNumber')">Membership Number</a></th>
                    <th><a href="" ng-click="vm.sort('username')">User Name</a></th>
                    <th ng-click="vm.sort('Email')">Email</th>
                    <th>CPD Compliant</th>
                    <th><a href="" ng-click="vm.sort('Year')">Year</a></th>
                    <th href="" ng-click="vm.sort('Duration')">CPD Hours Recorded</th>
                    <th><a href="" ng-click="vm.sort('Status')">Status</a></th>
                    <th><a href="" ng-click="vm.sort('CompletionDate')">Declared Date</a></th>                   
                    <th></th>

                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="row in vm.cpdreportrecord">
                    <td>{{row.MemberNumber}}</td>
                    <td>{{row.username}}</td>
                    <td>{{row.Email}}</td>
                    <td><img ng-src="{{row.CPDCompliantImage}}" title="{{row.IsCPDCompliant}}" tooltip /></td>
                    <td>{{row.CPDYear}}</td>
                    <td>{{row.Duration}}</td>
                    <td><span style="font-weight:normal;" ng-class="{'label label-success': row.Status == 'Active' , 'label label-danger': row.Status == 'Terminated'}" title=""><span>{{row.Status}}</span></span></td>
                    <td>{{row.CompletionDate | dateformat}}</td>
                    <!--<td>
                        <list-action config="config" data="row"></list-action>
                    </td>-->

                    <td ng-if="row.IsCPDCompliant.toLowerCase() === 'true'">
                        <i title="View CPD" class="fa fa fa-eye" style="font-size:20px;cursor:pointer" ng-click="vm.showcoursedetail(row)" tooltip></i>
                    </td>
                </tr>
            </tbody>
        </table>

        <div ng-if="!vm.loadingaccreditdata && vm.totalItems == '0'">
            <p>There is no data to show in the grid.</p><br />
        </div>

        <pagination page="vm.pagingInfo.page"
                    total-items="vm.totalItems"
                    items-per-page="vm.pagingInfo.pageSize"
                    on-select-page="vm.selectPage(page)"
                    max-size="10"
                    rotate="false"></pagination>

    </div>
</div>



